# 支持 Go 语言的开发板

## 微控制器支持目标

TinyGo 专为在微控制器上运行而设计，但 Go 语言本身并非如此。这意味着为微控制器编写 Go 代码需应对若干挑战：微控制器 RAM 极小且直接执行闪存中的代码，常量全局变量通常也会尽可能存入闪存。而 Go 语言高度依赖垃圾回收机制，因此需特别注意避免动态内存分配。

### 1. ARM 架构

ARM Cortex-M 处理器已获完善支持。当前兼容多种芯片型号，后端代码生成稳定——因其采用与 ARM 官方编译器相同的底层技术（LLVM）。需注意的是，尽管 Cortex-M 架构支持成熟，但每款芯片及系列仍需单独适配内存映射、时钟配置、时间维护（如 `time.Now` 函数）等特定功能。这些额外代码是 TinyGo 在特定芯片上运行的前提。若需添加新开发板支持，可参考此维基页面。

### 2. AVR 架构

由于 LLVM 的 AVR 后端仍处于实验阶段，可能会遇到程序错误。较大规模程序常因此无法正常运行。

### 3. RISC-V 架构

已实现部分支持，特别是针对 HiFive1 rev B 开发板。

### 4. Xtensa 架构

目前已支持在 ESP8266/ESP32 芯片上直接运行 TinyGo，但功能尚处早期阶段。详见 TinyGo 常见问题解答。

**TinyGo 支持的微控制器开发板文档**：https://tinygo.org/docs/reference/microcontrollers/

### 5. 自定义架构

使用 Linux + 标准 Go + C 的分层架构

#### 5.1. 分层架构：

5.1.1. **操作系统层**：linux/unix（64 位）

5.1.2. **底层控制（C 语言）**：编译成独立的可执行文件或动态库，例如可实现功能： 1. 电机控制 2. PWM 信号生成（用于舵机） 3. 传感器数据读取 4. 其他 GPIO 控制等

5.1.3. **网关服务/其他服务（Go 语言）**：主程序，通过 CGO 或系统调用与底层交互

#### 5.2. 控制流程图

![An image](/images/loT/支持go语言的开发板.png)

#### 5.3. 可选择的开发板系列

| 系列 | 架构 | 操作系统 | 开发板 |
| --- | --- | --- | --- |
| 莓派 5 | ARM Cortex-A | Raspberry Pi OS（基于 Debian） |  |
| Rockchip RK3588 | ARM Cortex-A | Android12/ubuntu20.04/debian11/麒麟 v10 | 迅为 RK3588 开发板、飞凌 OK3568-C 开发板、飞腾开发板 |

#### 5.4. 推荐开发板购买地址

| 开发板 | 购买地址 |
| --- | --- |
| 飞凌 RK3588 开发板 | https://detail.tmall.com/item.htm?ali_refid=a3_420434_1006%3A1323020114%3AN%3AgKrkWIFTmJLCBrDDHxOBlrXPPiJLN7BD%3Ae9fc4759ba1cae0e07443460f6740669&ali_trackid=1_e9fc4759ba1cae0e07443460f6740669&id=693351362193&mi_id=0000Z8YVQlfBAGQ3Nt-2PmbnCjSr85SqrjzmUkBg0N8aMm8&mm_sceneid=1_0_1236640197_0&priceTId=2150475b17616328613283737e0f16&skuId=5114065535388&spm=a21n57.1.hoverItem.8&utparam=%7B%22aplus_abtest%22%3A%22c0821e545148372886d562ca8c7487e8%22%7D&xxc=ad_ztc |
| 飞凌 OK3568-C | https://detail.tmall.com/item.htm?abbucket=19&id=815768138356&mi_id=0000yJLRRrf8_Dwtc2Ac5-kaeGLNirBpfqVoP-cRu_pvRpc&ns=1&priceTId=213e003d17616348440576377e0efe&skuId=5937695592935&spm=a21n57.1.hoverItem.1&utparam=%7B%22aplus_abtest%22%3A%227aaf6b113c80dd7898fc340bbf299c2a%22%7D&xxc=taobaoSearch |
| 迅为 RK3588 开发板 | https://item.taobao.com/item.htm?ali_refid=a3_430582_1006%3A1348050097%3AN%3AgKrkWIFTmJLCBrDDHxOBlrXPPiJLN7BD%3Aff24a26661e706f1add7c6ff0a0e33c0&ali_trackid=1_ff24a26661e706f1add7c6ff0a0e33c0&id=679967865358&mi_id=0000Ck4oWOuzgMh3zAOTRMukWhkQJCOWI1sn9AWCn9n2eK4&mm_sceneid=1_0_932850012_0&priceTId=213e0a4917616337486157813e121d&skuId=5719961480501&spm=a21n57.1.hoverItem.1&utparam=%7B%22aplus_abtest%22%3A%22e06056498174fda44281c4e05256b505%22%7D&xxc=ad_ztc |
| 飞腾开发板 | https://item.taobao.com/item.htm?abbucket=19&id=743504836725&mi_id=00005NqSQywkFuxmpwU5hg8np1PjxfdRq8fsSv5eex6kx00&ns=1&priceTId=2150483317616344617204276e0f6b&skuId=5302148619401&spm=a21n57.1.hoverItem.12&utparam=%7B%22aplus_abtest%22%3A%22e09a1e92730dd9f5b7deb73e25fe942f%22%7D&xxc=taobaoSearch |
| 莓派 5 | https://detail.tmall.com/item.htm?ali_refid=a3_420434_1006%3A1553160080%3AN%3AbTtP%2FKAa%2Fzq9m75uD86mng%3D%3D%3A505c75e31dba2a80afed5ce3526dfcd7&ali_trackid=1_505c75e31dba2a80afed5ce3526dfcd7&id=658496062308&mi_id=0000GDYgYxEFZTnwY3enbjZFlPI9O5QWBB_4O_YUh3l1Pv8&mm_sceneid=1_0_2164260152_0&priceTId=2147881917616229009025088e105e&skuId=4906446313248&spm=a21n57.1.hoverItem.2&utparam=%7B%22aplus_abtest%22%3A%225e7b6b201f18dce8ebfc79b422f2f661%22%7D&xxc=ad_ztc |
