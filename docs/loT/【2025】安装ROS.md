# 安装 ROS

## 一、通过虚拟机安装（推荐给初学者）

打开地址：[https://nootrix.com/downloads/](https://nootrix.com/downloads/) 点击 **ROS Indigo 64 位虚拟机** 下载打包好的虚拟机。

![An image](/images/loT/ros-1.png)

## 二、一键安装（推荐）

运行下面命令一键安装：

```bash
wget http://fishros.com/install -O fishros && . fishros
```

卸载：

```bash
sudo apt remove ros-jazzy-*
sudo apt autoremove
```

## 三、官网安装

官方文档地址：[https://docs.ros.org/en/humble/Installation/Ubuntu-Install-Debs.html](https://docs.ros.org/en/humble/Installation/Ubuntu-Install-Debs.html)

### 1、区域设置

```bash
locale  # 检查区域

sudo apt update && sudo apt install locales
sudo locale-gen en_US en_US.UTF-8
sudo update-locale LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8
export LANG=en_US.UTF-8

locale  #验证
```

### 2、添加必须的仓库

```bash
sudo apt install software-properties-common
sudo add-apt-repository universe

sudo apt update && sudo apt install curl -y
export ROS_APT_SOURCE_VERSION=$(curl -s https://api.github.com/repos/ros-infrastructure/ros-apt-source/releases/latest | grep -F "tag_name" | awk -F\" '{print $4}')
curl -L -o /tmp/ros2-apt-source.deb "https://github.com/ros-infrastructure/ros-apt-source/releases/download/${ROS_APT_SOURCE_VERSION}/ros2-apt-source_${ROS_APT_SOURCE_VERSION}.$(. /etc/os-release && echo ${UBUNTU_CODENAME:-${VERSION_CODENAME}})_all.deb"
sudo dpkg -i /tmp/ros2-apt-source.deb
```

### 3、安装开发工具

```bash
sudo apt update && sudo apt install ros-dev-tools
```

### 4、安装 ROS 2

```bash
sudo apt update
sudo apt upgrade
sudo apt install ros-jazzy-desktop  # 安装桌面版
```

### 5、设置环境

```bash
source /opt/ros/jazzy/setup.bash
```

### 6、运行示例（pub/sub）

打开两个终端分别运行：

**终端 1：**

```bash
source /opt/ros/jazzy/setup.bash
ros2 run demo_nodes_cpp talker
```

**终端 2：**

```bash
source /opt/ros/jazzy/setup.bash
ros2 run demo_nodes_py listener
```

![An image](/images/loT/ros-2.png)

### 7、运行示例（TurtleSim）

运行三个终端，分别输入以下命令：

**终端 1：启动 ROS 核心**

```bash
roscore
```

**终端 2：启动 TurtleSim**

```bash
rosrun turtlesim turtlesim_node
```

**终端 3：启动键盘控制**

```bash
rosrun turtlesim turtle_teleop_key
```

![An image](/images/loT/ros-3.png)

### 8、运行示例（Gazebo）

![An image](/images/loT/ros-4.png)
