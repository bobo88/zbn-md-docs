# 静态页面打包镜像

## 1. 准备文件

准备 `nginx.conf` 和 `Dockerfile` 文件，把这 2 个文件放到 `dist` 目录同级

![An image](/images/RD/dist-build-1.png)

### nginx.conf 文件

```nginx
# nginx.conf
server {
    listen 80;
    server_name localhost;

    location / {
        root /usr/share/nginx/html;
        index index.html index.htm;
        try_files $uri $uri/ /index.html;
    }
}
```

### Dockerfile 文件

```dockerfile
# Dockerfile
FROM nginx:alpine

COPY nginx.conf /etc/nginx/conf.d/

COPY dist/ /usr/share/nginx/html

# 暴露端口
EXPOSE 80

# 启动nginx
CMD ["nginx","-g","daemon off;"]
```

## 2. 构建镜像

```bash
docker build -t shop-html .
```

## 3. 运行容器

```bash
docker run -d -p 8080:80 --name shop-html shop-html
```
